# dLNk Attack Platform - Production Environment Configuration
# CRITICAL: Change all default values before deploying to production!

# ============================================================================
# CORE CONFIGURATION
# ============================================================================

# Simulation Mode (MUST be False in production)
SIMULATION_MODE=False

# Workspace Directories
WORKSPACE_DIR=/opt/dlnk/workspace
LOGS_DIR=/opt/dlnk/logs
DATA_DIR=/opt/dlnk/data
REPORTS_DIR=/opt/dlnk/reports
LOOT_DIR=/opt/dlnk/workspace/loot

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database URL - Use strong passwords!
DATABASE_URL=postgresql://dlnk_prod_user:CHANGE_THIS_STRONG_PASSWORD@localhost:5432/dlnk_production

# Redis (Optional - for caching and pub/sub)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# ============================================================================
# API CONFIGURATION
# ============================================================================

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_DEBUG=False

# Security - CRITICAL: Generate strong secret key!
SECRET_KEY=GENERATE_A_RANDOM_SECRET_KEY_MINIMUM_64_CHARACTERS_FOR_PRODUCTION
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=8

# Rate Limiting - Production settings
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=30
RATE_LIMIT_WINDOW=60
RATE_LIMIT_BURST=5

# ============================================================================
# LLM CONFIGURATION (Ollama)
# ============================================================================

# LLM Provider (ollama, openai, groq)
LLM_PROVIDER=ollama

# Ollama Configuration
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=mixtral:latest
OLLAMA_TIMEOUT=300

# LLM Settings
LLM_MODEL=mixtral:latest
LLM_TEMPERATURE=0.7
LLM_API_KEY=

# ============================================================================
# AGENT CONFIGURATION
# ============================================================================

# Concurrent Execution - Conservative for production
MAX_CONCURRENT_AGENTS=3
AGENT_TIMEOUT=600
AGENT_RETRY_ATTEMPTS=2

# Workflow
WORKFLOW_TIMEOUT=7200

# Target
TARGET_TIMEOUT=1200
MAX_TARGETS=50

# ============================================================================
# EXTERNAL TOOLS
# ============================================================================

NMAP_PATH=nmap
SQLMAP_PATH=sqlmap
NUCLEI_PATH=nuclei
METASPLOIT_PATH=/usr/share/metasploit-framework
WPSCAN_PATH=wpscan

# ============================================================================
# FEATURE FLAGS - Production Security
# ============================================================================

ENABLE_PERSISTENCE=False
ENABLE_LATERAL_MOVEMENT=False
ENABLE_DATA_EXFILTRATION=False
ENABLE_PRIVILEGE_ESCALATION=False

# ============================================================================
# NOTIFICATION CONFIGURATION
# ============================================================================

# Notification Channels (comma-separated: email,telegram,discord)
NOTIFICATION_CHANNELS=email

# Email (SMTP) - Configure with your SMTP provider
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USERNAME=your-email@domain.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=dlnk@your-domain.com
SMTP_TO=admin@your-domain.com

# Telegram (Optional)
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# Discord (Optional)
DISCORD_WEBHOOK_URL=

# ============================================================================
# REPORTING CONFIGURATION
# ============================================================================

REPORT_FORMAT=html
REPORT_INCLUDE_PAYLOADS=False
REPORT_INCLUDE_LOGS=True

# ============================================================================
# PERFORMANCE CONFIGURATION
# ============================================================================

CACHE_ENABLED=True
CACHE_TTL=1800

# ============================================================================
# PROXY CONFIGURATION (Optional)
# ============================================================================

PROXY_ENABLED=False
PROXY_URL=
PROXY_USERNAME=
PROXY_PASSWORD=

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Logging Level (INFO for production)
LOG_LEVEL=INFO

# Log Rotation
LOG_MAX_SIZE=50MB
LOG_BACKUP_COUNT=10
LOG_ROTATION_INTERVAL=daily

# Structured Logging
LOG_FORMAT=json
LOG_INCLUDE_TIMESTAMP=True
LOG_INCLUDE_LEVEL=True
LOG_INCLUDE_MODULE=True

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# CORS Origins (specify exact domains)
CORS_ORIGINS=https://your-domain.com,https://admin.your-domain.com

# Session Security
SESSION_TIMEOUT=3600
SESSION_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True

# Content Security Policy
CSP_ENABLED=True
CSP_REPORT_URI=/api/security/csp-report

# ============================================================================
# MONITORING CONFIGURATION
# ============================================================================

# Health Check
HEALTH_CHECK_ENABLED=True
HEALTH_CHECK_INTERVAL=60

# Metrics
METRICS_ENABLED=True
METRICS_PORT=9090

# Alerting
ALERT_EMAIL=alerts@your-domain.com
ALERT_WEBHOOK=

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================

# Database Backup
DB_BACKUP_ENABLED=True
DB_BACKUP_SCHEDULE=0 2 * * *
DB_BACKUP_RETENTION_DAYS=30

# File Backup
FILE_BACKUP_ENABLED=True
FILE_BACKUP_SCHEDULE=0 3 * * *
FILE_BACKUP_RETENTION_DAYS=7